<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="style.css" />
    <script defer src="main.js"></script>
  </head>

  <body>
    <div class="loader-overlay"></div>
    <header class="nav-container">
      <nav class="navbar">
        <a class="nav-logo" href="index.html" aria-label="Home">
          Raul V. Rodriguez
        </a>

        <button
          class="hamburger"
          aria-label="Toggle menu"
          aria-expanded="false"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>

        <div class="nav-links">
          <a href="index.html">Home</a>
          <a href="about.html">About</a>
          <a href="research.html">Research</a>
          <a href="engagements.html">Engagements</a>
          <a href="press.html">Press</a>
          <a href="executiveedu.html">Executive Education</a>
          <a href="newsletter.html">Newsletter</a>
          <a href="contact.html">Contact</a>
        </div>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-content reveal">
        <h1>Dr. Raul V. Rodriguez</h1>

        <div class="hero-carousel">
          <div class="hero-carousel-inner" id="subtitle-carousel">
            <div>Vice President, Woxsen University</div>
            <div>Steven Pinker Professor of Cognitive Psychology</div>
            <div>
              Board Member | Cognitive Technologist | Behavioural Engineer
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- TRUST FLOATING CARD - DISABLED
    <div class="trust-floating-card reveal">
      <div class="trust-logos">
        <img src="assets/logos/blogo1.png" />
        <img src="assets/logos/blogo2.png" />
        <img src="assets/logos/blogo3.png" />
        <img src="assets/logos/blogo4.png" />
        <img src="assets/logos/blogo5.png" />
        <img src="assets/logos/blogo6.png" />
        <img src="assets/logos/blogo7.png" />
      </div>
    </div>
    TRUST FLOATING CARD - DISABLED -->

    <section class="recent-video reveal">
      <h2>Recent Video</h2>
      <div class="video-container">
        <iframe
          src="https://www.youtube.com/embed/WScWvw6MRl8"
          title="Video player"
          frameborder="0"
          allowfullscreen
        ></iframe>
      </div>
    </section>

    <section class="books reveal">
      <h2>Books</h2>

      <div class="books-carousel">
        <div class="books-track">
          <div class="book-card"><img src="assets/images/book1.png" /></div>
          <div class="book-card"><img src="assets/images/book2.png" /></div>
          <div class="book-card"><img src="assets/images/book3.png" /></div>
          <div class="book-card"><img src="assets/images/book4.png" /></div>
          <div class="book-card"><img src="assets/images/book5.png" /></div>
          <div class="book-card"><img src="assets/images/book6.png" /></div>
          <div class="book-card"><img src="assets/images/book7.png" /></div>
          <div class="book-card"><img src="assets/images/book8.png" /></div>
          <div class="book-card"><img src="assets/images/book9.png" /></div>
          <div class="book-card"><img src="assets/images/book10.png" /></div>
          <div class="book-card"><img src="assets/images/book11.png" /></div>
          <div class="book-card"><img src="assets/images/book12.png" /></div>

          <div class="book-card"><img src="assets/images/book1.png" /></div>
          <div class="book-card"><img src="assets/images/book2.png" /></div>
          <div class="book-card"><img src="assets/images/book3.png" /></div>
          <div class="book-card"><img src="assets/images/book4.png" /></div>
          <div class="book-card"><img src="assets/images/book5.png" /></div>
          <div class="book-card"><img src="assets/images/book6.png" /></div>
          <div class="book-card"><img src="assets/images/book7.png" /></div>
          <div class="book-card"><img src="assets/images/book8.png" /></div>
          <div class="book-card"><img src="assets/images/book9.png" /></div>
          <div class="book-card"><img src="assets/images/book10.png" /></div>
          <div class="book-card"><img src="assets/images/book11.png" /></div>
          <div class="book-card"><img src="assets/images/book12.png" /></div>
        </div>
      </div>

      <div class="book-button">
        <a href="books.html" class="btn-primary">View All Books</a>
      </div>
    </section>

    <footer class="footer fade-section">
      <div class="footer-container">
        <div class="footer-col">
          <h3>Woxsen University</h3>
          <a
            href="https://www.google.com/maps/place/Woxsen+University/@17.6496171,77.7971506,995m/data=!3m2!1e3!4b1!4m6!3m5!1s0x3bc9533c6aaaaaab:0x4f10ac8424d0d1dc!8m2!3d17.649612!4d77.7997255!16s%2Fm%2F01115txn?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoKLDEwMDc5MjA3MUgBUAM%3D"
            target="_blank"
            class="footer-address"
          >
            Kamkole, Sadasivpet, Hyderabad, Telangana 502345
          </a>
          <a href="https://www.woxsen.edu.in" target="_blank"
            >www.woxsen.edu.in</a
          >
          <a href="tel:04044448888">040 4444 8888</a>
        </div>

        <div class="footer-col footer-center">
          <h3>Dr. Raul V. Rodriguez</h3>
          <p>Cognitive Technologist | Behavioral Engineer</p>
        </div>

        <div class="footer-col footer-right">
          <h4>Connect</h4>
          <a href="https://www.linkedin.com/in/raulvillamarinrodriguez/"
            >LinkedIn</a
          >
          <a href="mailto:raul.rodriguez@woxsen.edu.in" class="footer-email"
            >raul.rodriguez@woxsen.edu.in</a
          >
        </div>
      </div>

      <div class="footer-bottom">
        <p>Â© Dr. Raul V. Rodriguez</p>
      </div>
    </footer>

    <script>
      const carousel = document.getElementById("subtitle-carousel");
      const carouselContainer = document.querySelector(".hero-carousel");
      const transitionMs = 600;
      let index = 0;
      let busy = false;
      let total = 0;
      let heights = [];
      let positions = [];
      let offset = 0;

      const firstClone = carousel.children[0].cloneNode(true);
      carousel.appendChild(firstClone);
      total = carousel.children.length;

      function computeHeights() {
        const children = Array.from(carousel.children);
        const baseTop = children[0] ? children[0].offsetTop : 0;
        heights = children.map((el) => Math.ceil(el.offsetHeight));
        positions = children.map((el) => Math.max(0, el.offsetTop - baseTop));

        const currentHeight = heights[index] || heights[0] || 0;
        const currentOffset = positions[index] || positions[0] || 0;
        offset = currentOffset;
        if (carouselContainer) {
          carouselContainer.style.height = `${currentHeight}px`;
        }
        carousel.style.transform = `translateY(-${offset}px)`;
      }

      computeHeights();
      if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(() => {
          computeHeights();
          carousel.style.transform = `translateY(-${offset}px)`;
        });
      }

      function nextSlide() {
        if (busy) return;
        busy = true;

        index += 1;

        carousel.style.transition = `transform ${transitionMs}ms ease`;
        const targetOffset = positions[index] || positions[0] || 0;
        offset = targetOffset;
        carousel.style.transform = `translateY(-${targetOffset}px)`;

        const nextHeight = heights[index] || heights[0] || 0;
        if (carouselContainer) {
          carouselContainer.style.height = `${nextHeight}px`;
        }

        const atClone = index === total - 1;

        setTimeout(() => {
          if (atClone) {
            carousel.style.transition = "none";
            index = 0;
            offset = positions[0] || 0;
            carousel.style.transform = `translateY(-${offset}px)`;
            void carousel.offsetHeight;
            computeHeights();
          }
          busy = false;
        }, transitionMs);
      }

      const intervalId = setInterval(nextSlide, 3000);

      let resizeTimer;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          computeHeights();
        }, 150);
      });

      if (window.ResizeObserver) {
        const ro = new ResizeObserver(() => {
          computeHeights();
        });
        ro.observe(carousel);
      }
    </script>
  </body>
</html>
